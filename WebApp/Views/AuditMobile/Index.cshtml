@{
    var viewModel = new AuditMobileTopBarViewModelBuilder()
                        .CreateTitle("Giám sát")
                        .DisplayToggleSideBar(true)
                        .Build();
}

@await Html.PartialAsync("~/Views/Shared/_mobile_topbar.cshtml", viewModel)


<div class="container @nameof(Views_AuditMobile_Index)">
    <div class="mx-auto pt-5 pb-2">
        <h5 class="text-center txt-bolder">Quét mã linh kiện</h5>
    </div>
    <div>
        <div class="QR_Container">
            <div id="reader"></div>

            <div id="dummyQRCode">
                <div class="qr_wrapper d-flex justify-content-center align-items-center">
                    <img src="~/assets/images/audit_target_mobile/dummyQR.jpg" width="auto" class="w-100 mx-auto" />
                    <div class="qr_placeholder">Đưa camera hướng đề phía mã linh kiện.</div>
                </div>
            </div>

        </div>
        <div class="QR_Zoom_Container">
            <div id="reader"></div>
            <input type="range" id="zoomSliderQRCode" style="width: 100%; margin-top: 10px;" />
        </div>
    </div>
    <form id="scanQRForm">
        <div class="form-group pt-4 pb-2">
            <label class="txt-12" for="ComponentCode">Nhập mã linh kiện</label>
            <div class=" grid gap-1 d-flex align-items-start">
                <div class="w-100">
                    <input type="text" class="form-control my-auto" id="ComponentCode" name="ComponentCode" placeholder="Nhập mã linh kiện...">
                </div>
                <button id="btnScanQR" class="btn btn-primary">Gửi</button>
            </div>
        </div>
    </form>

    <div class="py-2">
        <a class="btn btn-primary w-100 d-flex align-items-center" href="@Url.Action("AuditTargetList", "AuditMobile")">
            <i class="fas fa-list-ul"></i><text class="mx-1">Danh sách phiếu cần giám sát</text>
        </a>
    </div>
</div>


<div class="modal modal-right"
     id="auditMobile_sidebar_menu"
     tabindex="-1"
     role="dialog"
     data-bs-keyboard="true"
     aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div id="filter_audit_form">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="custom_modal_header">
                        <button type="button" class="btn-close" data-bs-dismiss="modal">
                        </button>
                    </div>
                    <p>
                        @{
                            string avatar = Context.UserFromContext()?.Avatar ?? "/assets/images/icons/AVT DEFAULT.svg";
                            string fullName = Context.UserFromContext()?.Fullname;
                            string userCode = Context.UserFromContext()?.UserCode;
                        }
                        <img id="auditmobile_avatar" src="@(avatar)" width="30%" alt="avatar" />
                        <div><label>@fullName</label></div>
                        <div>
                            <text class="txt-opacity-8">Mã nhân viên: </text>
                            <label class="txt-opacity-8">@(Context.UserFromContext()?.UserCode)</label
                        ></div>
                    </p>
                    <hr />
                    <div id="btnLogout">
                        <text>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M8.89999 7.56023C9.20999 3.96023 11.06 2.49023 15.11 2.49023H15.24C19.71 2.49023 21.5 4.28023 21.5 8.75023V15.2702C21.5 19.7402 19.71 21.5302 15.24 21.5302H15.11C11.09 21.5302 9.23999 20.0802 8.90999 16.5402" stroke="#E60000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                                <path d="M2 12H14.88" stroke="#E60000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                                <path d="M12.65 8.6499L16 11.9999L12.65 15.3499" stroke="#E60000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                        </text>
                        <text  class="txt-bolder txt-danger">Đăng xuất</text>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script asp-append-version="true" src="~/assets/libs/html5-qrcode.min.js"></script>
<script asp-append-version="true" src="~/assets/js/audit-mobile/scanQR.js" async></script>
